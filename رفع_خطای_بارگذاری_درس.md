# ✅ رفع خطای بارگذاری درس

## مشکل:

```
AttributeError: Attribute `context` of class `CallbackQuery` can't be set!
```

**خط 905:**
```python
query.context = context  # ❌ این کار نمی‌شود!
```

## راه‌حل:

حذف خطی که سعی می‌کرد `context` را به `CallbackQuery` اختصاص دهد.

**قبل:**
```python
# Send lesson - pass context to send_lesson
await query.edit_message_text("⏳ در حال بارگذاری درس...", parse_mode='Markdown')
# Store context in query for later use
query.context = context  # ❌ خطا!
await send_lesson(query, user_id, lesson_number, context)
```

**بعد:**
```python
# Send lesson - pass context to send_lesson
await query.edit_message_text("⏳ در حال بارگذاری درس...", parse_mode='Markdown')
await send_lesson(query, user_id, lesson_number, context)
```

---

## تغییرات در `start_exam`:

**قبل:**
```python
await start_lesson_exam(query, query.from_user.id, lesson_data["id"], lesson_number, context)
```

**بعد:**
```python
# Use bot from context to send messages
bot = context.bot
await start_lesson_exam(bot, query.from_user.id, lesson_data["id"], lesson_number, context)
```

---

## توضیح:

`CallbackQuery` یک immutable object است و نمی‌توان attribute جدید به آن اضافه کرد. به جای این کار، `context` را مستقیماً به توابع پاس می‌دهیم.

---

**خطا رفع شد! ✅**

